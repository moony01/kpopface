---
layout: default
lang: ko
---

<div class="container content-wrapper">
    {% include site-logo.html %}
    <h1>"나와 찰떡인 소속사는? K-POP 비주얼 매칭 테스트"</h1>
    <div class="language">
        <span>language:</span>
        <select name="lang" id="lang" onchange="fnChangeLang(this)">
            <option value="ko" id="ko" selected="selected">한국어</option>
            <option value="en" id="en">English</option>
            <option value="de" id="de">Deutsch</option>
            <option value="es" id="es">Español</option>
            <option value="fr" id="fr">Français</option>
            <option value="id" id="id">Indonesia</option>
            <option value="ja" id="ja">日本語</option>
            <option value="nl" id="nl">Nederlands</option>
            <option value="pl" id="pl">Polski</option>
            <option value="pt" id="pt">Português</option>
            <option value="ru" id="ru">Русский</option>
            <option value="tr" id="tr">Türkçe</option>
            <option value="uk" id="uk">Українська</option>
            <option value="vi" id="vi">Tiếng việt</option>
            <option value="zh" id="zh">中文</option>
        </select>
    </div>
    {% include display02.html %}
    <div class="gender-select">
        <span>1. 성별 선택ㄱㄱ</span>
        <div class="gender-select-switch">
            <span>여자</span>
            <input type="checkbox" id="gender" onclick="fnGenderSelect(this)"/><label for="gender">Toggle</label>
            <span>남자</span>
        </div>
    </div>
    <div class="tips-contents">
        <div class="tips-title">2. 테스트전 꿀팁</div>
        <div>
            <li>최대한 얼굴이 잘나온 사진으로 업로드해야 정확한 결과나옴</li>
            <li>SM, JYP, YG 대표 아티스트들의 빅데이터를 학습한 AI가 당신의 소속사 얼굴상을 분석해 드립니다!</li>
            <li>결과는 재미로만...</li>
            <li style="color:red">업로드한 이미지는 그 어디에도 저장되지 않습니다.</li>
        </div>
    </div>
    <div class="file-upload">
        <!--<button class="file-upload-btn" type="button" onclick="$('.file-upload-input').trigger( 'click' )"></button>-->
        <div class="image-upload-wrap">
            <input class="file-upload-input" type='file' onchange="readURL(this);" onclick="$('.file-upload-input').trigger( 'click' )" accept="image/*" />
            <div class="drag-text">
                <img class="baseline_upload" src="static/img/ico-upload.png">
                <h3>3. 이미지를 올려놓거나 눌러서 업로드 ㄱㄱ</h3>
            </div>
        </div>
        <div class="file-upload-content">
            <!-- 로딩 화면 (analyzing 스타일) -->
            <div id="loading" class="analyzing-container" style="display: none;">
                <h2 class="analyzing-title">
                    <i class="fas fa-search"></i> AI가 분석 중...
                </h2>
                <div class="analyzing-image-wrap">
                    <img id="analyzing-image" src="static/img/icon.png" alt="분석 중인 이미지">
                    <div class="progress-overlay">
                        <span id="progress-text">0%</span>
                    </div>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <p class="step-text" id="step-text">얼굴형 분석 중...</p>
                <div class="tip-box">
                    <div class="tip-box-title">💡 알고 계셨나요?</div>
                    <div class="tip-box-text" id="tip-text">SM은 시원한 눈매와 차가운 이미지를 선호합니다</div>
                </div>
                <!-- AI 분석 중 광고 슬롯 -->
                <div id="ad-loading-slot" style="margin-top: 20px; min-height: 100px;"></div>
            </div>

            <!-- 결과 표시 영역 (1차 결과: 작은 이미지 + 1위 결과만) -->
            <div id="result-area" style="display: none;">
                <!-- 작은 원형 이미지 (analyzing 스타일) -->
                <div class="result-image-wrap">
                    <img id="face-image" src="#" alt="your image" />
                </div>

                <!-- 1위 결과만 표시 -->
                <p class="result-title" id="result-title"></p>
                <p class="result-percent" id="result-percent"></p>

                <!-- 숨겨진 label-container (init 함수용) -->
                <div id="label-container" style="display: none;"></div>

                <!-- 상세 분석 보기 버튼 -->
                <div id="detail-cta-wrap" class="detail-cta-wrap">
                    <p class="detail-cta-text">📊 전체 소속사 매칭률 + 비주얼 리포트가 궁금하다면?</p>
                    <button type="button" id="detail-analysis-btn" class="detail-cta-btn-main">
                        <i class="fas fa-chart-bar"></i>
                        <span>상세 분석 보기</span>
                    </button>
                </div>

                <!-- 결과 화면 광고 슬롯 -->
                <div class="result-ad-slot">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-8955182453510440"
                         data-ad-slot="3138863990"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
            </div>

            <!-- 결과 이미지 저장 버튼 -->
            <button type="button" id="save-image-btn" class="save-image-btn" onclick="fnSaveResultImage()">
                <i class="fas fa-camera"></i>
                <span class="save-image-text">결과 이미지 저장하기</span>
            </button>
            <div class="image-title-wrap">
                <button type="button" class="try-again-btn" onclick="removeUpload()">
                    <span class="try-again-text">다른 사진으로 재시도</span>
                </button>
            </div>
            
            {% include buy_me_a_coffee.html %}
            {% include sns_promotion.html %}
        </div>
    </div>
    {% include vote_section_ko.html %}

    {% include comment_section_ko.html %}
</div>

<!-- 상세 분석 팝업 모달 -->
<div id="detail-modal" class="ad-overlay" style="display: none;">
    <div class="ad-overlay-content detail-modal-content">
        <!-- 상단 닫기 버튼 -->
        <button type="button" class="modal-close-top" onclick="fnCloseDetailModal()">
            <i class="fas fa-times"></i>
        </button>
        <!-- 광고 대기 화면 (복합형 로딩 UI) -->
        <div id="modal-ad-wait">
            <div class="ad-overlay-title">📊 비주얼 분석 중...</div>

            <!-- 미니 프로필 스캔 영역 -->
            <div class="modal-scan-area">
                <div class="modal-scan-image-wrap">
                    <img id="modal-scan-image" src="static/img/icon.png" alt="분석 중">
                    <div class="scan-line"></div>
                </div>
            </div>

            <!-- 분석 단계 표시 -->
            <div class="modal-analysis-steps">
                <div class="analysis-step" id="step-1">
                    <span class="step-icon">⏳</span>
                    <span class="step-text">얼굴형 분석 중...</span>
                </div>
                <div class="analysis-step" id="step-2">
                    <span class="step-icon">⏳</span>
                    <span class="step-text">비주얼 특징 추출 중...</span>
                </div>
                <div class="analysis-step" id="step-3">
                    <span class="step-icon">⏳</span>
                    <span class="step-text">소속사 매칭률 계산 중...</span>
                </div>
                <div class="analysis-step" id="step-4">
                    <span class="step-icon">⏳</span>
                    <span class="step-text">AI 리포트 생성 중...</span>
                </div>
            </div>

            <!-- 프로그레스 바 -->
            <div class="modal-progress-wrap">
                <div class="modal-progress-bar">
                    <div class="modal-progress-fill" id="modal-progress-fill"></div>
                </div>
                <span class="modal-progress-text" id="modal-progress-text">0%</span>
            </div>

            <!-- 팁 박스 -->
            <div class="modal-tip-box">
                <span class="modal-tip-icon">💡</span>
                <span class="modal-tip-text" id="modal-tip-text">SM은 시원한 눈매와 차가운 이미지를 선호합니다</span>
            </div>

            <!-- 광고 슬롯 (동적 로드) -->
            <div id="ad-analyzing-slot" class="ad-overlay-slot" style="margin-top: 16px; min-height: 100px;"></div>
        </div>

        <!-- 상세 분석 결과 -->
        <div id="modal-detail-result" style="display: none;">
            <div class="ad-overlay-title">📊 상세 분석 결과</div>

            <!-- 결과 요약 (소속사얼굴상, 해시태그, 연예인) -->
            <div class="modal-result-summary">
                <p class="modal-result-title" id="modal-result-title"></p>
                <p class="modal-result-hashtag" id="modal-result-hashtag"></p>
                <p class="modal-result-celeb" id="modal-result-celeb"></p>
            </div>

            <!-- 전체 소속사 순위 -->
            <div class="agency-ranking" style="margin: 16px 0; text-align: left;">
                <div class="agency-ranking-title">전체 소속사 매칭률</div>
                <div id="modal-ranking-list"></div>
            </div>

            <!-- 광고 (동적 로드) -->
            <div id="ad-detail-slot" class="ad-overlay-slot" style="min-height: 100px; margin: 16px 0;"></div>

            <!-- 비주얼 리포트 -->
            <div id="modal-visual-report" style="text-align: left;"></div>

            <!-- 닫기 버튼 -->
            <button type="button" class="detail-cta-btn" onclick="fnCloseDetailModal()" style="margin-top: 20px;">
                <i class="fas fa-times"></i> 닫기
            </button>
        </div>
    </div>
</div>