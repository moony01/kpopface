# PRD: K-Pop Face Test

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| **프로젝트명** | K-Pop Face Test (케이팝 얼굴상 테스트) |
| **URL** | https://moony01.com/kpopface/ |
| **버전** | 1.0.0 |
| **작성일** | 2026-01-21 |
| **최종 수정** | 2026-01-21 |

---

## 목적 및 비전

**K-Pop Face Test**는 사용자의 얼굴 사진을 AI로 분석하여 **K-POP 엔터테인먼트 소속사 스타일**을 알려주는 바이럴 테스트 서비스입니다.

**핵심 가치**:
- 재미있는 K-POP 콘텐츠 제공
- 글로벌 팬덤 대상 (15개 언어 지원)
- Zero-Cost 운영 (GitHub Pages, 클라이언트 사이드 AI)

---

## 기술 스택

| 분류 | 기술 |
|------|------|
| **프레임워크** | Jekyll (Ruby) |
| **AI 엔진** | Teachable Machine (TensorFlow.js) |
| **언어** | Vanilla JavaScript (ES5 호환) |
| **스타일링** | Vanilla CSS |
| **호스팅** | GitHub Pages |
| **다국어** | 15개 언어 (디렉토리 기반) |
| **PWA** | 지원 (pwabuilder-sw.js) |

---

## 핵심 기능

### 1. 얼굴상 테스트 (Core)

- [x] 성별 선택 (남/여)
- [x] 이미지 업로드
- [x] AI 분석 (Teachable Machine)
- [x] 결과 표시 (SM/JYP/YG/HYBE)
- [x] 소속사별 설명 및 대표 연예인

### 2. 다국어 지원

- [x] 15개 언어 지원
- [x] 결과 텍스트 다국어화
- [x] 언어 선택 드롭다운

### 3. SNS 공유 (부분 구현)

- [x] 카카오톡 공유 (URL)
- [x] 페이스북 공유 (URL)
- [x] 트위터 공유 (URL)
- [x] URL 복사
- [ ] **결과 이미지 생성 및 공유** ← 현재 개발 중

### 4. 댓글 시스템

- [x] Supabase 연동 댓글
- [x] 다국어별 댓글 섹션

---

## 신규 기능: 결과 이미지 공유

### 목적

사용자가 테스트 결과를 **이미지로 저장/공유**하여 바이럴 마케팅 효과 극대화

### 기술 선택: Canvas API

| 방법 | 장점 | 단점 | 비용 |
|------|------|------|------|
| **Canvas API** ✅ | 서버 불필요, 즉시 생성 | 초기 개발 필요 | **0원** |
| html2canvas | 구현 쉬움 | 품질 낮음 | 0원 |
| 서버 생성 | 품질 최상 | 서버 비용 | 과금 |

### 이미지 스펙

| 항목 | 값 |
|------|-----|
| 크기 | 1080 x 1920px |
| 비율 | 9:16 (인스타 스토리) |
| 포맷 | PNG |

### 소속사별 테마

| 소속사 | 메인 색상 | 서브 색상 |
|--------|----------|----------|
| SM | `#0066FF` | `#00D4FF` |
| JYP | `#00C853` | `#69F0AE` |
| YG | `#212121` | `#616161` |
| HYBE | `#6B46C1` | `#EC4899` |

### 기획서

`doc/feature/결과이미지-공유기능.md`

---

## 비기능 요구사항

### 성능

- [ ] 이미지 생성 3초 이내
- [x] 클라이언트 사이드 처리 (서버 부하 없음)

### 호환성

- [ ] Chrome, Safari, Firefox 지원
- [ ] iOS/Android 모바일 지원
- [ ] Web Share API (HTTPS 필수)

### 보안

- [x] 업로드 이미지 서버 저장 안 함
- [x] 클라이언트에서만 처리

---

## 제약 조건

- Jekyll 빌드 환경 (ES5 호환 권장)
- GitHub Pages 호스팅 (정적 파일만)
- 서버 사이드 로직 불가

---

## 성공 기준

1. 결과 이미지가 1080x1920 PNG로 정상 생성됨
2. 모바일에서 Web Share API로 인스타/카톡 공유 가능
3. PC에서 자동 다운로드 정상 동작
4. 15개 언어 모두 이미지 내 텍스트 정상 렌더링
5. 폰트 깨짐 없음 (Pretendard)

---

## 로드맵

### Phase 1: 결과 이미지 공유 (현재)

- Canvas API 이미지 생성
- 저장/공유 버튼 UI
- 다국어 CTA

### Phase 2: 공유 기능 강화

- 기존 SNS 공유 버튼 활성화
- 공유 시 이미지 첨부 옵션

### Phase 3: 사용자 경험 개선

- 결과 이미지에 사용자 사진 합성
- 더 다양한 결과 템플릿
